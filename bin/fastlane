#!/usr/bin/env ruby

if RUBY_VERSION < '2.0.0'
  abort("fastlane requires Ruby 2.0.0 or higher")
end

begin
  require 'tmpdir'
  require 'bootsnap'
  require 'fastlane/version'
  Bootsnap.setup(
    cache_dir: "#{Dir.tmpdir}/fastlane-#{RUBY_VERSION}-#{Fastlane::VERSION}",
    load_path_cache: true,
    autoload_paths_cache: false,
    disable_trace: true,
    compile_cache_iseq: true,
    compile_cache_yaml: true
  )
rescue LoadError
end

$LOAD_PATH.push(File.expand_path("../../lib", __FILE__))

require "fastlane/cli_tools_distributor"

if Fastlane::CLIToolsDistributor.running_version_command?
  # This will print out the fastlane binary path right above the
  # version number. Very often, users are not aware they have
  # e.g. bundled fastlane installed
  puts("fastlane installation at path:")
  puts(File.expand_path(__FILE__))
  puts("-----------------------------")
end

Fastlane::CLIToolsDistributor.take_off
